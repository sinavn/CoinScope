//
//  GlobalDataModel.swift
//  CoinScope
//
//  Created by Sina Vosough Nia on 6/29/1403 AP.
//

//JSON data
/*
 {
     "data": {
         "active_cryptocurrencies": 14680,
         "upcoming_icos": 0,
         "ongoing_icos": 49,
         "ended_icos": 3376,
         "markets": 1198,
         "total_market_cap": {
             "btc": 36107689.69891867,
             "eth": 922138439.4973503,
             "ltc": 34471483868.07521,
             "bch": 6506112485.246057,
             "bnb": 4033746095.675429,
             "eos": 4516952707987.855,
             "xrp": 3851151195366.0728,
             "xlm": 23539969641774.242,
             "link": 200370514891.11557,
             "dot": 534809532098.24207,
             "yfi": 449229242.5658455,
             "usd": 2244691717220.0625,
             "aed": 8244595548929.074,
             "ars": 2159935300546236.2,
             "aud": 3284237632456.998,
             "bdt": 268308297258620.62,
             "bhd": 845988393152.7648,
             "bmd": 2244691717220.0625,
             "brl": 12257363591051.885,
             "cad": 3038807529479.5894,
             "chf": 1898571477883.3135,
             "clp": 2089246815802574.2,
             "cny": 15849768215290.873,
             "czk": 50383560153237.125,
             "dkk": 14989963744618.617,
             "eur": 2009515366006.9165,
             "gbp": 1690176543548.3208,
             "gel": 6021385531442.83,
             "hkd": 17491486354047.824,
             "huf": 792966801708008.1,
             "idr": 34057367252392452,
             "ils": 8411387366977.113,
             "inr": 187802128031833.2,
             "jpy": 320558470585249.44,
             "krw": 2976629959488954,
             "kwd": 684525473241.409,
             "lkr": 681138242418890.5,
             "mmk": 4709363222727680,
             "mxn": 43062911140799.805,
             "myr": 9461375588082.547,
             "ngn": 3687579553049104.5,
             "nok": 23455704076836.508,
             "nzd": 3582478597465.4404,
             "php": 124642123817320.5,
             "pkr": 626964122990694.4,
             "pln": 8572275645808.87,
             "rub": 208810599613112.94,
             "sar": 8424002534427.903,
             "sek": 22731544081944.12,
             "sgd": 2897344812768.6636,
             "thb": 74311641644428.88,
             "try": 76390879379864.22,
             "twd": 71665711282755.56,
             "uah": 93081803167040.64,
             "vef": 224760981645.24484,
             "vnd": 55196969326441230,
             "zar": 39127315599914.92,
             "xdr": 1664221173222.107,
             "xag": 71918396229.36311,
             "xau": 866383662.0954294,
             "bits": 36107689698918.67,
             "sats": 3610768969891867
         },
         "total_volume": {
             "btc": 2131750.8088076464,
             "eth": 54441848.27726508,
             "ltc": 2035151354.9970975,
             "bch": 384112377.9523385,
             "bnb": 238147097.5762345,
             "eos": 266674984439.3219,
             "xrp": 227366933304.73642,
             "xlm": 1389769042040.4407,
             "link": 11829613324.530478,
             "dot": 31574455804.703804,
             "yfi": 26521907.360039886,
             "usd": 132523665280.39026,
             "aed": 486750145918.30316,
             "ars": 127519757212534.06,
             "aud": 193897097479.38766,
             "bdt": 15840571204088.857,
             "bhd": 49946049065.53452,
             "bmd": 132523665280.39026,
             "brl": 723658726630.0996,
             "cad": 179407224964.9603,
             "chf": 112089178712.48038,
             "clp": 123346401459723.3,
             "cny": 935749600544.8362,
             "czk": 2974579542553.4644,
             "dkk": 884987868319.5009,
             "eur": 118639160868.96376,
             "gbp": 99785814151.51428,
             "gel": 355494732114.6476,
             "hkd": 1032674493810.2761,
             "huf": 46815723603309.96,
             "idr": 2010702451237717.8,
             "ils": 496597316866.9627,
             "inr": 11087592190636.525,
             "jpy": 18925353148825.586,
             "krw": 175736342495811.3,
             "kwd": 40413489298.25082,
             "lkr": 40213511617437.34,
             "mmk": 278034649758258.1,
             "mxn": 2542377992595.8804,
             "myr": 558587249156.844,
             "ngn": 217709877322624.28,
             "nok": 1384794113217.5637,
             "nzd": 211504854266.86664,
             "php": 7358708088904.203,
             "pkr": 37015142409369.24,
             "pln": 506095950575.93524,
             "rub": 12327904895731.771,
             "sar": 497342099865.8393,
             "sek": 1342040653561.4556,
             "sgd": 171055451055.32477,
             "thb": 4387262200939.9653,
             "try": 4510017679376.195,
             "twd": 4231049930490.6953,
             "uah": 5495428005535.215,
             "vef": 13269594604.525476,
             "vnd": 3258756929244790.5,
             "zar": 2310025575496.4175,
             "xdr": 98253443009.87723,
             "xag": 4245968119.491314,
             "xau": 51150159.08827233,
             "bits": 2131750808807.6465,
             "sats": 213175080880764.62
         },
         "market_cap_percentage": {
             "btc": 54.71432308390432,
             "eth": 13.053389953646127,
             "usdt": 5.298282962414092,
             "bnb": 3.616071068340205,
             "sol": 2.898630716437728,
             "usdc": 1.583936056631599,
             "xrp": 1.4643057436884643,
             "steth": 1.0601220026041023,
             "doge": 0.6795567117006591,
             "ton": 0.6466018247469753
         },
         "market_cap_change_percentage_24h_usd": 2.4411073121578997,
         "updated_at": 1726738480
     }
 }
 */

import Foundation

struct GlobalDataModel: Codable {
    let data: GlobalMarketDataModel?
}

struct GlobalMarketDataModel: Codable {
    let totalMarketCap, totalVolume, marketCapPercentage: [String : Double]
    let marketCapChangePercentage24HUsd: Double
    
    var marketCap : String {
        if let item = totalMarketCap["usd"]{
            return "$"+item.formattedWithAbbreviations()
        }
        return ""
    }
    
    var marketVolume : String {
        if let item = totalVolume["usd"]{
            return "$"+item.formattedWithAbbreviations()
        }
        return ""
    }
    
    var dominance : String {
        if let item = marketCapPercentage["btc"]{
            return item.asPercentString()
        }
        return ""
    }
}


